<html>

	<head>
	  <title>PTA | Login</title>
	  <link rel="stylesheet" type="text/css" href="../stylesheets/login.css" />
	</head>
	
	<body style="margin: 0;">
		<div class="container">
			<div class="leftside">
				<div class="forumtitle">
					<h1 class= "forumname"> <span class="logo"> </span></h1>
					
					<h3 class = "forumdesc">Philippine Taekwondo Assocation</h3>
					<h2>User Data</h2>
    				<ul>
      					{{#each users}}
        				<li>ID: {{id}}, username: {{username}}, pass: {{password}}</li>
      					{{/each}}
    				</ul>
					
				</div>
			</div>
		
			<div class="rightside">
				<div class="login">
					<h2 class="login-title">Login</h2>
					<div class="signup">
						Need an account? <a class="signup-link" href="register">Sign Up</a>
						<br> or <a class="signup-link" href="guest">visit as a Guest</a>
					</div>
					
					<div class ="login-input">
					
						<form id="loginform" action="/submit-login" method="post">
							<label class="username-input" for="username">Email/ Username</label><br>
							<input type="text" id="username" name="username" required><br><br>
							
							<label class="password-input" for="password">Password</label><br>
							<input type="password" id="password" name="password" required><br><br>
							
							<input type="checkbox" id="remember" name="remember">
							<label class="remember-label" for="remember">Remember Me</label><br><br>
							
							<button class="button" type="submit">Log in</button>
							<p id="error-message" style="color:red;"></p>
						</form>

						<form id="forum-form" action="/go-forum" method="post">
							<button class="button" type="submit">go to forum</button>
						</form>

					</div>
				</div>
			</div>
		</div>
		<script>
    document.addEventListener("DOMContentLoaded", function() {
      const form = document.getElementById("loginform");

      form.addEventListener("submit", function(event) {
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;

        // Clear any previous error messages
        document.getElementById("error-message").textContent = "";

        if (!username || !password) {
          document.getElementById("error-message").textContent = "Both username and password are required.";
          event.preventDefault(); // Prevent form submission
          return;
        }

        if (username.length < 3) {
          document.getElementById("error-message").textContent = "Username must be at least 3 characters long.";
          event.preventDefault(); // Prevent form submission
          return;
        }

        if (password.length < 3) {
          document.getElementById("error-message").textContent = "Password must be at least 6 characters long.";
          event.preventDefault(); // Prevent form submission
          return;
        }
      });
    });
  </script>
	</body>
</html>